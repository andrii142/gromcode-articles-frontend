## Host SPA on Netlify ##

–î–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∞–π—Ç–∞ –≤–ø–æ–ª–Ω–µ –ø–æ–¥–æ–π–¥–µ—Ç Github Pages. –ù–æ SPA Github Pages –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —Ä–æ—É—Ç–∏–Ω–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä React Router)

### 1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [netlify.com](https://www.netlify.com/)

### 2. –ù–∞–∂–∏–º–∞–µ–º "New site from Git"

![new site](images/netlify-new-site.png)

### 3. –í—ã–±–∏—Ä–∞–µ–º "Github"

![Choose Github provider](images/netlify-choose-github.png)

### 4. –í—ã–±–æ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ Github
–ù–∞ —ç—Ç–æ–º —à–∞–≥–µ –≤–∞—Å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ Github. –¢–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —É–∫–∞–∑–∞—Ç—å –í–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Github –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–∏—Ç—å. –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –æ–ø—Ü–∏—é "All repositories"

![Choose repositories on Github](images/netlify-install-on-github.png)

### 5. –í—ã–±–æ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è deploy
–î–∞–ª—å—à–µ –í–∞—Å –¥–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ [netlify.com](https://www.netlify.com/) –∏ –∑–¥–µ—Å—å –≤ —Å–ø–∏—Å–∫–µ –ø–æ—è–≤—è—Ç—Å—è –≤—Å–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –∫ –∫–æ—Ç–æ—Ä—ã–º –≤—ã –æ—Ç–∫—Ä—ã–ª–∏ –¥–æ—Å—Ç—É–ø –Ω–∞ [github.com](https://www.github.com/)

![Choose repository to deploy](images/netlify-choose-repository-to-deploy.png)

### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ deploy
–î–∞–ª—å—à–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫, –≥–¥–µ –Ω—É–∂–Ω–æ:
  -  –≤—ã–±—Ä–∞—Ç—å –≤–µ—Ç–∫—É, —Å –∫–æ—Ç–æ—Ä–æ–π –±—Ä–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
  - –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–ª—è —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
  - –ø–∞–ø–∫—É, –≤ –∫–æ—Ç–æ—Ä—É—é –ø–æ–ø–∞–¥–∞—é—Ç —Ñ–∞–π–ª—ã —Å–±–æ—Ä–∫–∏

![Choose repository to deploy](images/netlify-build-setup.png)

### 7. Publish
–ù–∞–∂–∏–º–∞–µ–º –∫–Ω–æ–ø–∫—É "Deploy site" - –∏ —ç—Ç–æ –≤—Å–µ) –ü–æ–¥–æ–∂–¥–∏—Ç–µ, –ø–æ–∫–∞ —Å–∞–π—Ç –∑–∞–¥–µ–ø–ª–æ–∏—Ç—Å—è (–¥–æ –º–∏–Ω—É—Ç—ã). –ö–æ–≥–¥–∞ —É–≤–∏–¥–∏—Ç–µ –∑–µ–ª–µ–Ω—É—é –ª–µ–π–±–æ—á–∫—É "Published", –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∞ —Å–∞–π—Ç

![Choose repository to deploy](images/netlify-finish.png)

### 8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
–î–∞–ª—å—à–µ –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤—ã –±—É–¥–µ—Ç–µ –ø—É—à–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ "master" (–≤–µ—Ç–∫–∞, —É–∫–∞–∑–∞–Ω–Ω–∞—è –≤ –Ω–∞ 6-–æ–º —à–∞–≥—É), –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –ø–æ–¥—Ö–≤–∞—á–µ–Ω—ã –∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è —Å–∞–π—Ç

### 9. –ü—Ä–æ–±–ª–µ–º–∫–∞
–° —Ç–∞–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –≤—Å–µ –±—É–¥–µ—Ç —Ö–æ—Ä–æ—à–æ, –ø–æ–∫–∞ –≤—ã –Ω–µ –ø–µ—Ä–µ–π–¥–µ—Ç–µ –Ω–∞ –∫–∞–∫–æ–π-—Ç–æ —Ä–æ—É—Ç –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É. –≠—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –ø–æ–∫–∞ —Ö–æ—Å—Ç–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ –∫–∞–∫ SPA. –ß—Ç–æ–±—ã —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —à–∞–≥ `10`, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `create-react-app`, –∏–ª–∏ –Ω–∞ —à–∞–≥ `11`, –µ—Å–ª–∏ —É –≤–∞—Å —Å–≤–æ—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–±–æ—Ä–∫–∏.

–¢–∞–∫ –∂–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —Ç–∞–∫ –∫–∞–∫ —Å —Ç–∞–∫–æ–π —Å–±–æ—Ä–∫–æ–π —Å—Ç–∞—Ç–∏–∫–∞ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –±–∏–ª–¥.

![Choose repository to deploy](images/netlify-page-not-found.png)

### 10. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ redirect –¥–ª—è Create React App
–î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º `_redirects` –≤ –ø–∞–ø–∫—É `public`. –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Ñ–∞–π–ª–∞:
```
/*    /index.html   200
```
–°–¥–µ–ª–∞–π—Ç–µ commit –∏ push –≤ `master`. [netlify.com](https://www.netlify.com/) –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è (–¥–æ –º–∏–Ω—É—Ç—ã) –∏ —Ä–æ—É—Ç–∏–Ω–≥ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –¢–µ–ø–µ—Ä—å —Ç–æ—á–Ω–æ –≤—Å–µ üòâ

### 11. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ redirect –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ webpack
–î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º `_redirects` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞. –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Ñ–∞–π–ª–∞:
```
/*    /index.html   200
```
–ù–∞—Å—Ç—Ä–æ–π—Ç–µ `webpack`, —á—Ç–æ–±—ã –æ–Ω —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ –ø–∞–ø–∫—É —Å–±–æ—Ä–∫–∏.
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `copy-webpack-plugin`
```
npm install copy-webpack-plugin --save-dev
```
2. –î–æ–±–∞–≤—å—Ç–µ `CopyPlugin` –≤ –º–∞—Å—Å–∏–≤ –ø–ª–∞–≥–∏–Ω–æ–≤ –≤ `webpack.config.js`
```
const CopyPlugin = require('copy-webpack-plugin');

module.exports = {
  // ...
  plugins: [
    // ...
    new CopyPlugin({
      patterns: [
        { from: '_redirects', to: '' },
      ],
    }),
  ],
};
```
### 12. –ö–æ–ø–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏–∫—É (–∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏ —Ç.–¥.) —Å –ø–æ–º–æ—â—å—é –ø–ª–∞–≥–∏–Ω–∞ `CopyPlugin` –≤ webpack
```
const CopyPlugin = require('copy-webpack-plugin');

module.exports = {
  // ...
  plugins: [
    // ...
    new CopyPlugin({
      patterns: [
        { from: '_redirects', to: '' },
        { from: "source/url/to/images/folder", to: "dest/url/to/images/folder" },
      ],
    }),
  ],
};
```

–¢–∞–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è `CopyPlugin` –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –µ—Å–ª–∏ –í–∞—à `webpack.config.js` —Ç–æ–∂–µ –ª–µ–∂–∏—Ç –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

–°–¥–µ–ª–∞–π—Ç–µ commit –∏ push –≤ `master`. [netlify.com](https://www.netlify.com/) –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è (–¥–æ –º–∏–Ω—É—Ç—ã) –∏ —Ä–æ—É—Ç–∏–Ω–≥ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –¢–µ–ø–µ—Ä—å —Ç–æ—á–Ω–æ –≤—Å–µ üòâ

